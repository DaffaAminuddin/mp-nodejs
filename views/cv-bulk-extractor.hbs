<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {{!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> --}}
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CV/Resumes Bulk Information Extraction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
    <meta name="author" content="Daffa Aminuddin">
    <meta name="name" content="CV/Resume Bulk Information Extractor">
    <meta name="description" content="Upload and process multiple resumes (PDF) with ease using our CV/Resume Bulk Extractor tool.">
    <meta name="keywords" content="CV extractor, Resume processing, Bulk resume upload, PDF processing">
    <meta name="publisher" content="mesinpintar.com">

    <meta property="og:title" content="Extract Information from CV/Resume Bulk" />
    <meta property="og:image" content="https://img.mesinpintar.com/cv-resume-extract.png" />
    <meta property="twitter:image" content="https://img.mesinpintar.com/cv-resume-extract.png" />
    <meta property="og:url" content="https://www.mesinpintar.com/cv-extractor" />
    <meta property="og:site_name" content="Mesinpintar">
    <meta property="og:description" content="Extract CV/Resumes Information automatically in 5 seconds with just one click. Dont spend hours manually typing. Upload your candidates CV/Resume now see the power." />
    <meta property="twitter:title" content="Extract Information from CV/Resume for Free" />
    <meta property="twitter:url" content="https://www.mesinpintar.com/cv-extractor" />
    <meta name="twitter:card" content="summary_large_image">    
    <meta property="og:type" content="website">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles-2.css">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "CV/Resumes Bulk Information Extraction",
      "applicationCategory": "Productivity",
      "operatingSystem": "All",
      "description": "Extract CV/Resumes Information automatically in 5 seconds with just one click. Dont spend hours manually typing. Upload your candidates CV/Resume now see the power.",
      "url": "https://www.mesinpintar.com/cv-extractor",
      "image": "https://img.mesinpintar.com/cv-resume-extract.png",
      "logo": "https://img.mesinpintar.com/logo-rounded.png",
      "author": {
        "@type": "Person",
        "name": "Daffa Aminuddin"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Mesinpintar",
        "url": "https://www.mesinpintar.com"
      },
      "offers": {
        "@type": "Offer",
        "price": "0.00",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"       
      }
    }
    </script>
    <style>
        body {
            background-color: #f8f9fa; /* Light gray background for contrast */
            min-height: 100vh;
        }
        .hero-container {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 5rem;
        }
    </style>
</head>
<body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img 
                    src="https://img.mesinpintar.com/banner-new-mesinpintar.png" 
                    alt="Mesinpintar Logo" 
                    style="height: 40px; width: auto;"
                >
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/all-tools">All Tools</a></li>
                    <li class="nav-item"><a class="nav-link" href="/cv-extractor">CV Bulk Extractor</a></li>
                    <li class="nav-item"><a class="nav-link" href="/excel-to-json-xml">Excel to JSON/XML</a></li>
                    <li class="nav-item"><a class="nav-link" href="/background-remover">Image Background Remover</a></li>
                    <li class="nav-item"><a class="nav-link" href="/pricing">Pricing</a></li>
                    {{#if user }}
                    <a class="nav-item"><a class="nav-link" href="/profile">Profile</a></a>
                    <a class="nav-item"><a class="btn btn-outline-primary" href="/auth/logout">Logout</a></a>
                    {{else}}                    
                    <a class="nav-item"><a class="btn btn-outline-primary me-2 gy-3" href="/login">Login</a></a>                    
                    <a class="nav-item"><a class="btn btn-primary me-2 gy-3" href="/register">Register</a></a>
                    {{/if}}                    
                </ul>                    
            </div>
        </div>
    </nav>

    <div class="container d-flex justify-content-center pt-5 mb-5" itemscope itemtype="https://schema.org/WebPage">
        <div class="hero-container text-center w-75">
            <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3" itemprop="headline">CV / Resume Bulk Extractor</h1>
            <p class="text-muted" itemprop="text">Upload your resumes (PDF) for bulk processing.</p>

            <!-- Upload Form -->
            <form id="upload-form" class="mb-5 mt-5" enctype="multipart/form-data" action="#" method="POST">
                <div class="mb-3">
                    <label for="file-input" class="form-label">Select PDF Files</label>
                    <input type="file" id="file-input" name="files" multiple class="form-control" accept=".pdf" aria-describedby="fileHelp">
                    <small id="fileHelp" class="form-text text-muted">Only PDF files are supported.</small>
                </div>
                {{!-- cloudflare --}}
                <div>
                    <div class="mb-3 d-flex justify-content-center">
                        <div class="cf-turnstile" data-sitekey="0x4AAAAAAA3Ed48Q_lI1MEZ2" data-callback="turnstileCallback"></div>
                    </div>
                    <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response">
                </div>
                <button type="button" id="upload-btn" class="btn btn-primary btn-lg">Upload & Process</button>
            </form>            
            <!-- Loading Spinner -->
            <div id="loading-spinner" class="mt-3" style="display: none;">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Processing...</span>
                </div>
                <p>Processing your files, please wait...</p>
            </div>

            <!-- Download Button -->
            <div>
                <button id="download-btn" class="btn btn-success mb-3" style="display: none;">Download Processed File</button>
            </div>

            <!-- Status Message -->
            <div id="status-message" class="mt-3"></div>
        </div>

            <!-- Status Message -->
            <div id="status-message" class="mt-3"></div>
        </div>
        {{#if message }}
        <div class="alert alert-danger mt-4 d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
            <div>{{message}}</div>
        </div>
        {{/if}}

        {{#if message2 }}
        <div class="alert alert-success mt-4 d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Success:">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
            </svg>
            <div>{{message2}}</div>
        </div>
        {{/if}}        
    </div>

    <!-- Footer -->
    <footer class="text-center text-lg-start bg-body-tertiary text-muted pt-5">     
        <section class="pt-1" style="background-color: #b6d7ff;">
            <div class="container text-center text-md-start mt-5">
            <!-- Grid row -->
                <div class="row mt-3">
                    <!-- Grid column -->
                    <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                        <!-- Content -->
                        <h6 class="text-uppercase fw-bold mb-4">
                            <i class="fas fa-gem me-3"></i>Mesinpintar
                        </h6>
                        <p>
                            Your one-stop solution for powerful AI-driven tools designed to elevate your productivity and unleash your creativity.
                        </p>
                    </div>
                    <!-- Grid column -->

                    <!-- Grid column -->
                    <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                        <!-- Links -->
                        <h6 class="text-uppercase fw-bold mb-4">
                            Tools
                        </h6>
                        <p>
                            <a href="/cv-extractor" class="text-reset toggle-link">CV Bulk Extraction</a>
                        </p>
                        <p>
                            <a href="/excel-to-json-xml" class="text-reset toggle-link">Excel to JSON/XML</a>
                        </p>
                        <p>
                            <a href="/background-remover" class="text-reset toggle-link">Image Background Remover</a>
                        </p>
                        <p>
                            <a href="#product" class="text-reset toggle-link">Paraphrase</a>
                        </p>
                    </div>
                    <!-- Grid column -->

                    <!-- Grid column -->
                    <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                        <h6 class="text-uppercase fw-bold mb-4">
                            Useful links
                        </h6>
                        <p>
                            <a href="/pricing" class="text-reset toggle-link">Pricing</a>
                        </p>
                        <p>
                            <a href="/all-tools" class="text-reset toggle-link">Products</a>
                        </p>
                        <p>
                            <a href="/contact" class="text-reset toggle-link">Contact</a>
                        </p>
                        <p>
                            <a href="/about" class="text-reset toggle-link">About</a>
                        </p>
                    </div>
                    <!-- Grid column -->

                    <!-- Grid column -->
                    <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                        <!-- Links -->
                        <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                        <p><i class="fas fa-home me-3"></i>Surakarta, Central Java, ID</p>
                        <p>
                            <i class="fas fa-envelope me-3"></i>
                            contact@mesinpintar.com
                        </p>
                        <p><i class="fab fa-twitter me-3"></i> @mesinpintarX</p>
                        <p><i class="fab fa-instagram me-3"></i> @mesinpintar.ig</p>
                    </div>
                    <!-- Grid column -->
                </div>
            
            </div>
        </section>
        <!-- Copyright -->
        <div class="text-center p-4" style="background-color: #95bcff;">
            &copy; 2024 Mesinpintar by <a class="toggle-link" href="https://www.instagram.com/daffaaminuddin/">Daffa Aminuddin</a> . All Rights Reserved.
            <a class="text-reset fw-bold toggle-link" href="https://www.mesinpintar.com/">Mesinpintar</a>
        </div>  
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-1CmrxMRARb6aLqgBO7V7YhxU3kj50o1Y8Q2mRWKbV+9jtk4G+PQnt3x5sPo4dQA3" 
            crossorigin="anonymous"></script>

    <!-- JavaScript -->
    <script>
        // Ambil userId dari elemen HTML atau logika autentikasi (contoh: hardcoded)
        const userId = "{{user.id}}"; // Untuk Handlebars atau Mustache
        console.log("User ID:", userId);

        document.getElementById("upload-btn").addEventListener("click", async () => {
            const files = document.getElementById("file-input").files;
            const statusMessage = document.getElementById("status-message");
            const downloadBtn = document.getElementById("download-btn");
            const loadingSpinner = document.getElementById("loading-spinner");

            // Reset status and download button
            statusMessage.textContent = "";
            statusMessage.className = "";
            downloadBtn.style.display = "none";

            // Cek apakah file telah dipilih
            if (files.length === 0) {
                statusMessage.textContent = "Please select at least one file.";
                statusMessage.className = "text-danger";
                return;
            }

            // Tampilkan spinner
            loadingSpinner.style.display = "block";

            const formData = new FormData();
            formData.append("userId", userId); // Kirim userId ke backend
            for (let i = 0; i < files.length; i++) {
                formData.append("files", files[i]); // Tambahkan file ke formData
            }

            const url = "/api/upload"; // Endpoint backend untuk upload file

            try {
                console.log("Sending request to:", url);

                // Kirim data ke backend
                const response = await fetch(url, {
                    method: "POST",
                    body: formData,
                });

                const result = await response.json();

                if (!response.ok) {
                    throw new Error(result.error || "Something went wrong.");
                }

                // Jika berhasil
                statusMessage.textContent =
                    "Files processed successfully. You can download the result.";
                statusMessage.className = "text-success";
                downloadBtn.style.display = "inline-block";

                // Konfigurasikan tombol download
                downloadBtn.addEventListener("click", () => {
                    window.location.href = "/api/download-csv"; // Endpoint Flask untuk unduhan CSV
                    // Tunggu beberapa detik sebelum reload halaman
                    setTimeout(() => {
                        window.location.reload();
                    }, 2000); // Waktu tunggu dalam milidetik
                });
            } catch (error) {
                // Tampilkan error jika gagal
                statusMessage.textContent = error.message;
                statusMessage.className = "text-danger";
            } finally {
                // Sembunyikan spinner
                loadingSpinner.style.display = "none";
            }
        });
    </script>
    {{!-- Scripts Cloudflare --}}
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <script>
    // Fungsi callback Turnstile untuk menyimpan token ke input hidden
    function turnstileCallback(token) {
        document.getElementById("cf-turnstile-response").value = token;
        console.log("Generated CAPTCHA token:", token);
    }
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>